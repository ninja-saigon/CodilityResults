function addHelp(helpSelector,tipSelector){var $e=$(helpSelector);if($e.length===0)return;$e.qtip({content:$(tipSelector).html(),position:{my:"bottom right",at:"top middle"}})}var initHighlight=function(code){var highlight_data=$(code).parent().attr("data-sh-highlight");var highlight_lines;var lines_dict={};var lang_code=$(code).data("prg-lang");if(highlight_data){highlight_lines=JSON.parse(highlight_data)}$(highlight_lines).each(function(i,e){lines_dict[e]=true});var highlight=function(i){if(i in lines_dict){return"hll"}return""};if($.browser.msie&&$.browser.version<=8){$(code).html($.map($(code).text().split("\r"),function(line,i){var ret=$("<span id='LC"+(i+1)+"'></span>");ret.css({display:"inline-block",height:"16px"}).addClass("line "+highlight(i+1)).text(line);ret=$("<div></div>").css({height:"16px"}).append(ret);return $.trim(ret.get(0).outerHTML)}).join(""));return}$(code).html($.map($(code).html().split("\n"),function(line,i){return"<span class='line "+highlight(i+1)+"'>"+line+"</span>"}).join("\n"));var hljs_language=lang_code_to_hljs(lang_code);$(code).addClass("language-"+hljs_language);hljs.highlightBlock(code)};var inlineHighlight=function(line,diff){var table=[];var nodeStack=[];function walkTheDOM(node,func,cleanup){node=node.firstChild;while(node){func(node);walkTheDOM(node,func,cleanup);cleanup(node);node=node.nextSibling}}walkTheDOM(line,function(node){if(node.nodeType===3){for(var i=0;i<node.data.length;i++){table.push(nodeStack[nodeStack.length-1])}}else{nodeStack.push(node)}},function(node){if(node.nodeType!=3){nodeStack.pop()}});var diff_text=$(diff).text();var line_text=$(line).text();if(diff_text.length){var diff_idx=line_text.indexOf(diff_text);var new_line_html=[];var previous;var diff_end=diff_idx+diff_text.length;var current_element;var in_diff;for(var i=0;i<line_text.length;i++){current_element=table[i];in_diff=i>=diff_idx&&i<diff_end;if(current_element!=previous||diff_idx==i||i==diff_end){if(previous||i>diff_idx||i==diff_end){new_line_html.push("</span>")}if(current_element||in_diff||i==diff_end){new_line_html.push("<span class='");var classes=[];if(current_element){classes.push(current_element.className)}if(in_diff){classes.push("idiff")}new_line_html.push(classes.join(" "));new_line_html.push("'>")}}new_line_html.push(line_text[i]);previous=current_element}if(previous||in_diff){new_line_html.push("</span>")}line.innerHTML=new_line_html.join("")}};function lang_code_to_hljs(code){if(code=="pas"){return"delphi"}return code}var initBugfixingHighlight=function(code,language){var hljs_language=lang_code_to_hljs(language);var language_is_known=!!hljs.getLanguage(hljs_language);if(!$.browser.msie||$.browser.version>8){var continuation;$(code).find("tr td.line_content").each(function(i,line){var line_string=$(line).text();var idiff=$(line).find(".idiff")[0];var highlighted_line;if(language_is_known){var ret=hljs.highlight(hljs_language,line_string,true,continuation);continuation=ret.top;highlighted_line=$(line).html(ret.value)[0]}else{highlighted_line=line}if(idiff){inlineHighlight(highlighted_line,idiff)}else{$(line).html($(highlighted_line).html())}})}};$(document).ready(function(){addHelp("#extend_forbidden_while_open","#tip-extend-forbidden-while-open");addHelp(".help-total-time","#tip-total-time");addHelp(".help-effective-time","#tip-effective-time");addHelp(".help-timeline","#tip-timeline");addHelp(".help-performance-warning","#tip-performance-warning");addHelp(".help-total-result","#tip-score");addHelp(".unbind-help-icon","#unbind-help");var nick_editor=setupAjaxEditor("nick","#nick","#nick_editor",TICKET_URLS.change);nick_editor.get_value=function(){return this.editor.find("[name=value1]").val()+" "+this.editor.find("[name=value2]").val()};setupAjaxEditor("rpt_email","#rpt_email","#rpt_email_editor",TICKET_URLS.change);setupAjaxEditor("email","#email","#email_editor",TICKET_URLS.change);setupAjaxEditor("user_notes","#user_notes","#user_notes_editor",TICKET_URLS.change);for(var i=0;i<TASK_NAMES.length;++i){var task_name=TASK_NAMES[i];setupAjaxEditor("custom_sol_desc."+task_name,"#sol-desc-"+i,"#sol-desc-"+i+"_editor",TICKET_URLS.change)}$(".a-timeline").click(function(){$.fancybox({speedIn:600,speedOut:200,href:TICKET_URLS.timeline,type:"iframe",width:650});return false});$(".a-similar-solutions").fancybox({speedIn:600,speedOut:200,type:"iframe",width:650});$(".task-opener a").click(function(){var task_ref=$(this).parents(".task").attr("id");$("."+task_ref+"-details").toggle();return false});$(".score-stats").each(function(){var barColor,currentColor;if(NUX){barColor="#046ba2";currentColor="#fb6f01"}else{barColor="blue";currentColor="red"}var res=$(this).find(".result").html();var max_res=$(this).find(".max-result").html();var sparkline=$(this).find(".inlinesparkline");var colorMap=[];var idx;if(res!==""&&max_res>0)idx=Math.floor(10*Math.max(0,res-1)/max_res);else idx=-1;for(var i=0;i<10;i++){if(i==idx)colorMap[i]=currentColor;else colorMap[i]=barColor}$(sparkline).show().sparkline("html",{type:"bar",tooltipSuffix:"%",barSpacing:0,barColor:barColor,colorMap:colorMap,barWidth:7,height:25})});$(".demo-anchor").show().qtip({content:{title:{text:"Congratulations"},text:$("#tip-demo-end").html()},show:{ready:true,event:"",effect:{type:"fade",length:500}},hide:false,position:{my:"middle middle",at:"middle middle"},style:{classes:"tip-demo-end",def:false}});$("#unbind-link").click(function(){$("#unbind-section").hide();var args={type:"POST",url:TICKET_URLS.unbind,data:{id:TICKET_ID}};$.ajax(args)})});
//# sourceMappingURL=/static/js/1a9f7ebd8dd9.js.map