function new_modal_data(){return{disable_escape:0,protect_exit:false,refresh_on_exit:false,on_exit_callback:null}}var ModalData=new_modal_data();function prepare_modal_element(data){var $fullscr=$("<div>").attr("id","fullscreen");var $overlay=$("<div>").addClass("overlay").appendTo($fullscr);var $modal=$("<div>").addClass("fullscreen-modal").html(data).appendTo($fullscr);$("body").append($fullscr);$modal.css({top:$(document).scrollTop()});$modal.find(".dashboard-help").each(function(){DashboardHelp.init(this,$modal.parent())});$fullscr.hide();$fullscr.fadeIn(150);$(document).bind("keyup",function(e){if(ModalData.disable_escape){return}if(e.keyCode==27){hidemodal()}});$overlay.add($modal).bind("click",function(e){if(this!==e.target)return;if(!ModalData.protect_exit)hidemodal()});return $modal}function modal_disable_escape(){ModalData.disable_escape+=1}function modal_enable_escape(){if(ModalData.disable_escape>0){ModalData.disable_escape-=1}}function modal_on_exit_callback(callback){ModalData.on_exit_callback=callback}function modal_refresh_on_exit(){ModalData.refresh_on_exit=true}function modal_protect_exit(){ModalData.protect_exit=true}function makemodal(file_html,callback_or_file_js,data,type,close_callback){$.ajax({url:file_html,data:data||{},type:type||"GET",success:function(data){var $modal=prepare_modal_element(data);if(close_callback){$modal.data("close_callback",close_callback)}if(typeof callback_or_file_js=="function"){callback_or_file_js()}else if(!!callback_or_file_js){$.ajax({url:callback_or_file_js,dataType:"script"})}if(typeof codility_change_for_local=="function"){codility_change_for_local()}},error:function(jqXHR){if(typeof DEBUG!=="undefined"){if(window.confirm("Error: "+jqXHR.status+" "+jqXHR.statusText+"\n"+"Modal URL: "+file_html+"\n"+"\n"+"Go to modal URL?")){window.location=file_html}}}})}var CONFIRMATION_MODAL='<div class="modal-box-clean" id="modal-confirmation">'+'    <a href="#" class="modal-close"></a>'+'    <h1 class="modal-title"></h1>'+'    <div class="info modal-info"></div>'+'    <div class="error"><div>'+'    <div class="action-buttons">'+'        <input class="cancel-button" type="button" name="no" value="Cancel" />'+'        <input class="action-button" type="button" name="yes" value="Yes" />'+"    </div>"+"</div>";function make_confirmation_modal(title,message,url_or_callback,confirm_button_message,cancel_button_message){var $modal=prepare_modal_element(CONFIRMATION_MODAL);$modal.find(".modal-title").html(title);$modal.find(".modal-info").html(message);$modal.find(".action-button").val(confirm_button_message);if(typeof cancel_button_message!=="undefined"){$modal.find(".cancel-button").val(cancel_button_message)}$modal.find(".action-button").click(function(){var $this=$(this);if($this.data("submitted")){return}if(typeof url_or_callback=="function"){url_or_callback()}else{window.location=url_or_callback}$this.data("submitted",true);setTimeout(function(){$this.removeData("submitted")},1e3)})}function make_info_modal(title,message){var $modal=prepare_modal_element(CONFIRMATION_MODAL);$modal.find(".modal-title").html(title);$modal.find(".modal-info").html(message);$modal.find(".cancel-button").hide();$modal.find(".action-button").val("OK").click(hidemodal)}function hidemodal(){var cb=$(".fullscreen-modal").data("close_callback");if(cb){cb()}$("#fullscreen").fadeOut(200,function(){$(this).remove();$(document).unbind("keyup");if(ModalData.refresh_on_exit)window.location=".";if(ModalData.on_exit_callback!==null)ModalData.on_exit_callback();ModalData=new_modal_data()})}$(document).on("click",".modal-box-clean .cancel-button, .modal-box-clean  .modal-close  , .modal-box-clean  .cancel-link",function(){hidemodal();return false});$(document).on("click",".open-modal",function(e){e.preventDefault();var callback=null;if($(this).data("modal-callback")){callback=window[$(this).data("modal-callback")]}makemodal($(this).data("modal-url"),callback)});function Balloon(params){this.root=params.root;this.root.hide()}Balloon.prototype.open_on_click=function(elems,callback){var that=this;elems.click(function(e){var clicked=$(this);that.show_at(clicked);if(callback){callback($(clicked),that)}e.stopPropagation();return false});return this};Balloon.prototype.close_on_click_outside=function(){var r=this.root;$(document).click(function(e){if(!r.is(e.target)&&r.has(e.target).length===0){r.hide()}})};Balloon.prototype.show_at=function(elem){elem=$(elem);var t=elem.offset(),h=elem.height(),w=elem.width(),root=this.root,tip=root.find(".tip-arrow");t.left+=elem.width()/2;t.top+=elem.height();this.root.show();setTimeout($.proxy(function(){var ro=root.offset(),to=tip.offset(),o={left:ro.left-to.left-tip.width()/2,top:tip.height()};root.offset({left:t.left+o.left,top:t.top+o.top})},this),0)};function setupCopyBalloon(root){var balloon=new Balloon({root:root});new ZeroClipboard(balloon.root.find(".copy"),{moviePath:STATIC_URL+"/vendor/zeroclipboard/ZeroClipboard.swf"}).on("load",function(client){client.on("complete",function(client,args){var e=$(this);e.text("Copied!").removeClass("orange-flash");setTimeout(function(){e.addClass("orange-flash")},0)})});balloon.close_on_click_outside();var super__open_on_click=$.proxy(balloon.open_on_click,balloon);balloon.open_on_click=function(elems,callback){super__open_on_click(elems,function(elem,b){callback(elem,b);b.root.find("input").val(elem.attr("href"));b.root.find(".action-link").text("Copy").removeClass("orange-flash");b.root.find("input").select();if(!$.browser.flash||$.browser.msie){b.root.find(".action-link").hide();b.root.find(".copy-help").show()}})};return balloon}var TASK_PRICE_USD=35;var TASK_PRICE_EUR=30;var Codility={extend:false,sorting:"name",init:function(){Codility.install_mark_all_none()},disable_multiple_submits:function(form){$(form).submit(function(){$(this).submit(function(){return false});return true})},mark_unmark_rpt_email:function(){if($("#change-email-rpts input[type=checkbox]").length>1){$("#change-email-rpts .all-none").show()}$(".rpt-mark-all").click(function(){$("#change-email-rpts input[type=checkbox]").attr("checked",true);return false});$(".rpt-unmark-all").click(function(){$("#change-email-rpts input[type=checkbox]").attr("checked",false);return false})},install_mark_all_none:function(){Codility.mark_unmark_rpt_email();function cb_class_from_href(el_a){return"."+$(el_a).attr("href").substr(1)+" input[type=checkbox]"}$(".mark-all").click(function(){$(cb_class_from_href(this)).attr("checked",true);Codility.updateTasksList();return false});$(".unmark-all").click(function(){$(cb_class_from_href(this)).attr("checked",false);Codility.updateTasksList();return false})},control_visibility:function(observed_selector,should_be_visible,controlled_selector,disable_anim){function update(){if(disable_anim){if(should_be_visible())controlled_selector.show();else controlled_selector.hide()}else{if(should_be_visible())controlled_selector.show("slow");else controlled_selector.hide("fast")}}$(observed_selector).change(update);update()},radio_control_visibility:function(radio_name,controlled_selector,value_for_on,disable_anim){function should_be_visible(){return Codility.radio_value(radio_name)==value_for_on}var radio_sel_def="input[name="+radio_name+"]";Codility.control_visibility($(radio_sel_def),should_be_visible,controlled_selector,disable_anim)},checkbox_control_visibility:function(checkbox_name,controlled_selector,value_for_on,disable_anim){var cb_sel_def="input[name="+checkbox_name+"]";function should_be_visible(){return $(cb_sel_def).attr("checked")==value_for_on}Codility.control_visibility($(cb_sel_def),should_be_visible,controlled_selector,disable_anim)},radio_value:function(name){return $("input[name="+name+"]:checked").val()},auto_resize_textarea:function(selector){Codility.add_change_observer([selector],function(textarea){textarea.rows=textarea.value.split("\n").length;return true})},add_change_observer:function(selector_defs,handler,skip_initial){var keypressHandler=function(evt){setTimeout(function(){return handler(evt.target)},100)};var handler2=function(){handler(this)};for(var i=0;i<selector_defs.length;i++){var sel_def=selector_defs[i];$(sel_def).change(handler);$(sel_def).keypress(keypressHandler);if(!skip_initial){$(sel_def).each(handler2)}}},update_ticket_count:function(){var tickets=0;if(Codility.radio_value("identified_by")=="random"){tickets=$("#id_random_ticket_count").val()}else{tickets=0;var tab=$("#id_nicknames").val().split("\n");for(var i=0;i<tab.length;i++){var nick=tab[i];var stripped=jQuery.trim(nick);if(stripped)tickets++}}return true},disable_task_list:function(){if($("#t-overlay").length===0){$("body").append('<div id="t-overlay"><div id="t-overlay-message">loading</div></div>');$("#t-overlay").css({position:"absolute",zIndex:100,top:0,left:0,width:"100%",height:"100%",background:"black",filter:"alpha(opacity=365)","-moz-opacity":"0.365",opacity:"0.365",display:"none",textAlign:"center","-moz-border-radius":"10px","-webkit-border-radius":"5px"});$("#t-overlay-message").css({padding:"2em",color:"white",fontWeight:"bold",fontSize:"200%"})}var offs=$(".other-tasks-wrapper").offset();var w=$(".other-tasks-wrapper").width();var h=$(".other-tasks-wrapper").height();var p=-30;$("#t-overlay").css({width:w+2*p,height:h+2*p});$("#t-overlay").alignWith(".other-tasks-wrapper");$("#t-overlay").show()},enable_task_list:function(){$("#t-overlay").hide()},update_task_count:function(){var tasks=Codility.selected_tasks().length;var other_tasks=Codility.other_tasks().length;Codility.enable_task_list();$("#other-tasks-count .value").html(other_tasks);$("#other-tasks-count .text").html(other_tasks===1?"task":"tasks");var selected_tasks=Codility.selected_tasks();var timelimit_auto=0;$(selected_tasks).each(function(_,task_name){timelimit_auto+=Codility.task_info[task_name].default_timelimit});$("input[name=timelimit_auto]").val(timelimit_auto);$("#timelimit-auto-value").html(timelimit_auto);if(tasks>4){$(".too-many-tasks-error-text").show("slow")}else{$(".too-many-tasks-error-text").hide("slow")}var paid=0;for(var i=0;i<selected_tasks.length;i++){var t=selected_tasks[i];if($(".selected-tasks .task-"+t+" .active-view").hasClass("paid-task")){paid+=1}}$(".total-usd").html(paid*TASK_PRICE_USD);$(".total-eur").html(paid*TASK_PRICE_EUR);if(paid>0){$(".buy-tasks-text").show()}else{$(".buy-tasks-text").hide()}return true},select_task:function(task_name,dont_change_form_contents){if($(".other-tasks .task-"+task_name).length===0)return;var n=$(".other-tasks .task-"+task_name).clone(true).appendTo(".selected-tasks");$(n).css({display:""});$(".selected-tasks .task-"+task_name+" .other-view").hide();$(".selected-tasks .task-"+task_name+" .active-view").show();Codility.update_selected_tasks();Codility.updateTasksList()},deselect_task:function(task_name){$(".selected-tasks .task-"+task_name).remove();Codility.update_selected_tasks();Codility.updateTasksList()},update_selected_tasks:function(){var tasks=[];$(".selected-tasks > .task-box").each(function(){tasks.push($(this).attr("data-task"))});$("#id_task_names").val(tasks.join(","));if(tasks.length)$(".task-no-tasks").hide();else $(".task-no-tasks").show()},toggle_task:function(task_name){if(jQuery.inArray(task_name,Codility.selected_tasks())>=0)Codility.deselect_task(task_name);else Codility.select_task(task_name)},prepopulate_selected_tasks:function(){var tab=Codility.selected_tasks();for(var i=0;i<tab.length;i++){var task_name=tab[i];Codility.select_task(task_name,true)}},selected_tasks:function(){return jQuery.grep($("#id_task_names").val().split(","),function(el,i){return jQuery.trim(el)!==""})},other_tasks:function(){return $(".other-tasks .task-box:visible")},_getCheckedList:function(name){var res="";$("input[name="+name+"]").map(function(){var v=$(this).val();if($(this).prop("checked"))res+=(res?",":"")+v});return res},updateTasksList:function(){if(!Codility.task_selector_present()){return}$("input[name=create]").attr("disabled",false);if(Codility.extend)Codility.check_extend_conditions();var d={};var multi_lang=$("input[name=multi_lang]").val();var l="en";if(multi_lang=="1")l=Codility._getCheckedList("show_descriptions_in");var pl=Codility._getCheckedList("accept_solutions_in");if(l===""){$(".show-descriptions-in .error-text").show("slow")}else{$(".show-descriptions-in .error-text").hide("slow")}var non_sql_present=false;var langs=l===""?[]:l.split(",");var prg_langs=pl===""?[]:pl.split(",");var task_type=$('input[name="task_type"]:checked').val();var other_tasks_elts={};$(".other-tasks .task-box").each(function(i,elt){elt=$(elt);other_tasks_elts[elt.attr("data-task")]=elt});var selected_tasks=Codility.selected_tasks();var selected_tasks_error=false;$(".selected-tasks-error-text").html("");$(".selected-tasks .task-box").removeClass("missing");$(".task-box").removeClass("missing-warning");$.each(Codility.task_info,function(name,t){var lang_ok=true;var bad_langs=[];$.each(langs,function(i,lang){if($.inArray(lang,t.lang_list)==-1){lang_ok=false;bad_langs.push(Codility.lang_info[lang].name)}});var prg_lang_ok=true;var bad_prg_langs=[];if(t.type!="sql"){$.each(prg_langs,function(i,prg_lang){if($.inArray(prg_lang,t.prg_lang_list)==-1){prg_lang_ok=false;bad_prg_langs.push(Codility.prg_lang_info[prg_lang].name)}})}var allow_task=lang_ok&&prg_lang_ok;var is_selected=$.inArray(name,selected_tasks)!=-1;var show_task=lang_ok&&(task_type=="all"||t.display_type==task_type)&&!is_selected;var task_elt=other_tasks_elts[name];task_elt.css("display",show_task?"block":"none");if(is_selected&&t.type!="sql"){non_sql_present=true}if(!allow_task){if(is_selected){selected_tasks_error=true;var selected_task_elt=$(".selected-tasks .task-"+name);selected_task_elt.addClass("missing");if(!lang_ok){$(".selected-tasks-error-text").append("The task <b>TASK</b> is currently unavailable in <b>LANGS<b>.<br>".replace("TASK",t.pretty_name).replace("LANGS",bad_langs.join(", ")))}if(!prg_lang_ok){$(".selected-tasks-error-text").append("The task <b>TASK</b> is currently unavailable in <b>PRG_LANGS</b>.<br>".replace("TASK",t.pretty_name).replace("PRG_LANGS",bad_prg_langs.join(", ")));selected_task_elt.addClass("missing-warning");selected_task_elt.find(".missing-warning-text").text(bad_prg_langs[0])}}else if(!prg_lang_ok&&show_task&&!task_elt.hasClass("is-unavailable")){task_elt.addClass("missing-warning");task_elt.find(".missing-warning-text").text(bad_prg_langs[0])}}});if(selected_tasks_error){$(".selected-tasks-error-text").append("Please change the selected tasks, or deselect the above languages.").show("slow")}else{$(".selected-tasks-error-text").hide("slow")}var pl_empty_error=pl===""&&non_sql_present;if(pl_empty_error){$(".accept-solutions-in .error-text").show("slow")}else{$(".accept-solutions-in .error-text").hide("slow")}if(l===""||pl_empty_error||selected_tasks_error){$("input[name=create]").attr("disabled",true)}var sorting=$('input[name="task_sorting"]:checked').val();if(sorting!=Codility.sorting){Codility.sorting=sorting;Codility.sort_tasks($(".other-tasks > .available"),sorting);Codility.sort_tasks($(".other-tasks > .unavailable"),sorting)}if(Codility.tasks_limit){if(selected_tasks.length>=Codility.tasks_limit)$(".other-tasks .task-add-trigger").hide();else $(".other-tasks .task-add-trigger").show()}Codility.update_task_count()},sort_tasks:function(list,sorting,desc,cls){desc=desc||false;cls=cls||".task-box";var task_boxes=list.find(cls);var sorter={name:function(task){return task},difficulty:function(task){return Codility.task_info[task].difficulty},weeksonline:function(task){return-Codility.task_info[task].date},pass50:function(task){return Codility.task_info[task].pass50},pass90:function(task){return Codility.task_info[task].pass90},pass100:function(task){return Codility.task_info[task].pass100},assessments:function(task){return Codility.task_info[task].assessments}}[sorting];task_boxes.sort(function(a,b){var task1=$(a).attr("data-task");var task2=$(b).attr("data-task");var key1=sorter(task1);var key2=sorter(task2);if(key1!=key2){var res=key1>key2?1:-1;return desc?-res:res}else return task1>task2?1:-1});task_boxes.appendTo(list)},check_extend_conditions:function(){var reopen_tip=$("#reopen-tip");var submit_btn=$(".extend-button");var show_submit=function(){submit_btn.show();reopen_tip.hide()};var hide_submit=function(){submit_btn.hide();reopen_tip.show()};if($(".old-tasks input:checked").length>0||Codility.selected_tasks().length>0)show_submit();else hide_submit()},enforce_extend_conditions:function(){Codility.extend=true;$(".old-tasks input[type=checkbox]").change(Codility.check_extend_conditions);Codility.check_extend_conditions()},init_extend_switches:function(){Codility.radio_control_visibility("accept_solutions_in_switch",$(".accept-solutions-in .inputs"),"yes",true);Codility.radio_control_visibility("show_descriptions_in_switch",$(".show-descriptions-in .inputs"),"yes",true);Codility.radio_control_visibility("add_tasks_switch",$(".task-names"),"yes",true)},init_ticket_form:function(){$("#timelimit-help-icon").qtip({content:{text:$("#timelimit-help").html()},style:{name:"cream",width:400},position:{corner:{target:"rightTop",tooltip:"leftBottom"}}});Codility.checkbox_control_visibility("is_manual_timelimit",$("#timelimit-manual-pane"),"checked",true);if(Codility.task_selector_present()){Codility.add_change_observer([".show-descriptions-in input[type=checkbox]",".accept-solutions-in input[type=checkbox]",".task-type input[type=radio]",".task-sorting input[type=radio]"],Codility.updateTasksList,true);$(".task-add-trigger").click(function(){Codility.toggle_task($(this).attr("rel"));return false});$(".task-remove-trigger").click(function(){Codility.toggle_task($(this).attr("rel"));return false});Codility.update_task_count();Codility.prepopulate_selected_tasks();Codility.updateTasksList()}},init_sortable:function(){$(".selected-tasks").sortable({items:"> .task-box",axis:"y",cancel:"a",update:function(){Codility.update_selected_tasks()}})},task_selector_present:function(){return 0!==$(".task-selector, .other-tasks").length},cleanForURL:function(s){s=$.trim(s);s=s.replace(/ +/g,"-");s=s.replace(/[^a-zA-Z0-9_-]/g,"");return s}};var ResendInvitation={popup:function(resend_invitation_popup_url,event){var parent_tr=$(event.target).closest("tr.candidate");var ticket_id=parent_tr.attr("data-ticket-id");makemodal(resend_invitation_popup_url,ResendInvitation.init,{ticket_id:ticket_id},undefined,$.proxy(TinyMCEUtils.remove_editor,ResendInvitation));return false},init:function(){ResendInvitation.form_history=FormHistory({form_path:"#messageForm",pane_path:".invite-side-pane"},FORM_HISTORY_DATA);ResendInvitation.form_history.signal_pre_read=$.proxy(TinyMCEUtils.update_textarea_from_editor,ResendInvitation);ResendInvitation.form_history.signal_post_write=$.proxy(TinyMCEUtils.update_editor_from_textarea,ResendInvitation);ResendInvitation.setup_form()},setup_form:function(){ResendInvitation.form_history.init();ResendInvitation.form_history.install_handlers("a.toggle-side-pane");ResendInvitation.email_editor=TinyMCEUtils.create_email_editor("id_content")},send_command:function(command){Dajaxice.codility.dashboards.resend_invitation(ResendInvitation.handle_response,{form_data:$("#messageForm").serialize(true),command:command})},change_invitation:function(){ResendInvitation.send_command("change")},send_invitation:function(){$("button.send")[0].disabled=true;if(!ResendInvitation.no_submit)ResendInvitation.send_command("send")},preview_invitation:function(){tinymce.triggerSave();ResendInvitation.send_command("preview")},handle_response:function(data){TinyMCEUtils.remove_editor.call(this);var top=$("#resend-invitation-box").css("top");$("#resend-invitation-box").replaceWith(data);$(".modal-box, .modal-box-clean").css({top:top});ResendInvitation.setup_form()}};$(document).ready(function(){function select_all(){if($(this).attr("checked")=="checked"){$("#form_candidates_select").find(".checkbox input[name=candidate_select]").attr("checked","checked");$("#form_candidates_select").find(".checkbox div.chkbox").removeClass("off").addClass("on")}else{$("#form_candidates_select").find(".checkbox input[name=candidate_select]").removeAttr("checked");$("#form_candidates_select").find(".checkbox div.chkbox").removeClass("on").addClass("off")}return false}if(!$.support.leadingWhitespace){$("#manage_selectall").bind($.browser.msie?"propertychange":"change",function(e){if(e.type=="change"||e.type=="propertychange"&&window.event.propertyName=="checked"){$.proxy(select_all,this)()}})}else{$("#manage_selectall").change(select_all)}function toggle_archive(){var campaign_id=$(this).closest(".test-box").data("id");Dajaxice.codility.campaigns.toggle_campaign_archive(function(data){if(data.status=="OK"){window.location.reload()}},{campaign:campaign_id});return false}function archive_campaign(){make_confirmation_modal("Are you sure you want to archive your test?",$(".confirmation-message").html(),$.proxy(toggle_archive,this),"Archive");return false}$(".test-box .archive").click(archive_campaign);$(".test-box .unarchive").click(toggle_archive);var b=setupCopyBalloon($(".copy-public-link-balloon"));b.open_on_click($(".test-box .test-link"),function(elem,b){var h2=elem.closest(".test-box").find("h2");var test_name=h2.find(".current").length?h2.find(".current").text():h2.text();b.root.find(".test-name").text(test_name)})});var StatusDetails={popup:function(status_details_popup_url,event,ticket_id){if(!ticket_id){var parent_tr=$(event.target).closest("tr.candidate");ticket_id=parent_tr.attr("data-ticket-id")}makemodal(status_details_popup_url,function(){},{ticket_id:ticket_id});return false}};function FormHistory(spec,history_data){var self={form_path:spec.form_path,pane_path:spec.pane_path,named_entries_path:spec.pane_path+" .named-entries ul",recent_entries_path:spec.pane_path+" .recent-entries ul",formhistory_url:history_data.url,loader_img_url:history_data.loader_img_url,form_name:history_data.form_name,fields:history_data.fields,named:history_data.named,recent:history_data.recent,visible:false,signal_pre_read:null,signal_post_write:null};self.init=function(){self.render()};self.render=function(){var pane=$(self.pane_path);pane.empty();self.render_entries(pane,"Saved","named",self.named);self.render_entries(pane,"Recent","recent",self.recent);self.render_save_link(pane)};self.render_entries=function(parent_pane,header,type,entry_list){var div=$('<div class="'+type+'-entries">'+"<h2>"+header+"</h2>"+"<ul></ul>"+"</div>");var ul=div.find("ul");for(var i=0;i<entry_list.length;i++){var entry=entry_list[i];var li=$("<li />").addClass("entry").attr("data-entry-name",entry.name).attr("data-entry-type",type).attr("data-entry-id",entry.id).appendTo(ul);$('<a class="name"/>').appendTo(li).attr("href","#").text(entry.name).click(self.entry_clicked).hover(self.entry_hover_on,self.entry_hover_off);if(type=="named"){if(entry.id){$('<a class="delete" />').appendTo(li).attr("href","#").text("x").attr("title","delete").click(self.delete_entry_clicked)}else{$('<img src="'+self.loader_img_url+'" />').appendTo(li).attr("alt","saving")}}}if(entry_list.length===0){$('<li class="no-entries">(no entries)</li>').appendTo(ul)}div.appendTo(parent_pane)};self.render_save_link=function(parent_pane){var li=$("<li />").appendTo(parent_pane.find(".named-entries ul"));var a=$("<a />").appendTo(li).addClass("save-as-new").attr("href","#").text("+ Save as new")};self.save_as_new_clicked=function(){modal_disable_escape();var new_name=window.prompt("Save current form contents as:","New name");setTimeout(modal_enable_escape,100);if(new_name){self.named.push({name:new_name,form_data:self.form_to_dict()});$.post(self.formhistory_url,{command:"save_named_entry",data:JSON.stringify({form_name:self.form_name,fields:self.fields,name:new_name,form_data:self.form_to_dict()})},"json").done(function(data,textStatus,jqXHR){self.rebuild_from_response(data)})}self.render();return false};self.rebuild_from_response=function(data){self.named=data.named;self.recent=data.recent;self.render()};self.delete_entry_clicked=function(event){modal_disable_escape();var entry=self.get_entry(event.target.parentNode);if(window.confirm('Delete "'+entry.name+'"?')){var new_named=[];for(var i=0;i<self.named.length;i++)if(self.named[i]!=entry)new_named.push(self.named[i]);self.named=new_named;$.post(self.formhistory_url,{command:"delete_named_entry",data:JSON.stringify({form_name:self.form_name,fields:self.fields,id:entry.id})},"json").done(function(data,textStatus,jqXHR){self.rebuild_from_response(data)});self.render()}setTimeout(modal_enable_escape,100);return false};self.entry_clicked=function(event){var entry=self.get_entry(event.target.parentNode);delete self.before_hover;self.set_fields_enabled(true);return false};self.entry_hover_on=function(event){var entry=self.get_entry(event.target.parentNode);self.before_hover=self.form_to_dict();self.fill_form(entry.form_data);self.set_fields_enabled(false);return false};self.entry_hover_off=function(event){var entry=self.get_entry(event.target.parentNode);if(self.before_hover){self.fill_form(self.before_hover);delete self.before_hover}self.set_fields_enabled(true);return false};self.form_to_dict=function(){if(self.signal_pre_read){self.signal_pre_read()}var ret={};for(var i=0;i<self.fields.length;i++){var field=self.fields[i];ret[field]=$(self.form_path+" [name="+field+"]").val()}return ret};self.set_fields_enabled=function(enabled){for(var i=0;i<self.fields.length;i++){var field=self.fields[i];$(self.form_path+" [name="+field+"]").attr("disabled",enabled?null:"true")}if(self.signal_post_write){self.signal_post_write()}};self.fill_form=function(form_data){for(var i=0;i<self.fields.length;i++){var field=self.fields[i];$(self.form_path+" [name="+field+"]").val(form_data[field])}if(self.signal_post_write){self.signal_post_write()}};self.get_entry=function(node){var el=$(node);var entries=self[el.attr("data-entry-type")];var id=el.attr("data-entry-id");for(var i=0;i<entries.length;i++)if(entries[i].id==id)return entries[i]};self.toggle_pane=function(event){self.visible=!self.visible;$(self.pane_path).toggle(self.visible);return false};self.install_handlers=function(toggle_link_path){$(toggle_link_path).on("click",self.toggle_pane);$(self.pane_path).on("click","a.save-as-new",self.save_as_new_clicked)};self.init();return self}function autoGrow(){if(this.scrollHeight>this.clientHeight){this.style.height=this.scrollHeight+"px"}}function PrettyEditor(element,changed_callback){if(element instanceof jQuery&&element.length>1){throw new Error("One element required")}this.root=$(element);this.changed_callback=changed_callback;this.current=this.root.find(".current");this.icon=this.root.find(".icon");this.delete_=this.root.find(".delete");this.input=this.root.find("input, textarea");this.save_info=this.root.find(".save-info");this.button_save=this.root.find(".save");this.button_cancel=this.root.find(".cancel");var submit_on_enter=!this.input.is("textarea"),save_on_focus=0===this.button_save.length;if(this.input.is("textarea")){this.input.on("keyup",autoGrow)}this.current_value=this.input.val();this.set_state(this.current_value?"is-written":"is-empty");var that=this;this.icon.click(function(){that.edit_start();return false});this.delete_.click(function(){that.clear();return false});if(save_on_focus)this.input.blur(function(){that.submit();return false});this.button_save.click(function(){that.submit();return false});this.button_cancel.click(function(){that.cancel();return false});this.input.keypress(function(e){if(e.which==13){if(submit_on_enter!=e.shiftKey){e.preventDefault();that.submit()}}else if(e.which==27){e.preventDefault();that.cancel()}})}PrettyEditor.prototype.set_state=function(state){var STATES={"is-written":".current, .delete, .icon","is-empty":".placeholder:not(input, textarea), .icon","is-editing":"input, textarea, .save, .cancel"};for(var key in STATES){if(key!=state){this.root.find(STATES[key]).hide();this.root.removeClass(key)}}this.root.find(STATES[state]).show();this.root.addClass(state)};PrettyEditor.prototype.edit_start=function(){this.set_state("is-editing");this.input.val(this.current_value);this.input.select();if(this.input.is("textarea")){setTimeout($.proxy(autoGrow,this.input[0]),0)}};PrettyEditor.prototype.submit=function(){var changed=this.current_value!=this.input.val();this.current_value=this.input.val();this.set_state(this.current_value?"is-written":"is-empty");if(changed){this.current.text(this.current_value);this.changed_callback(this.current_value);this.tick_save_info()}};PrettyEditor.prototype.cancel=function(){this.input.val(this.current_value);this.set_state(this.current_value?"is-written":"is-empty")};PrettyEditor.prototype.clear=function(){this.current_value="";this.set_state("is-empty");this.changed_callback(null)};PrettyEditor.prototype.tick_save_info=function(){clearTimeout(this.save_info_timeout);this.save_info.show();var that=this;this.save_info_timeout=setTimeout(function(){that.save_info.fadeOut(200)},900)};jQuery.fn.PrettyEditor=function(changed_callback){return this.each(function(){new PrettyEditor(this,$.proxy(changed_callback,this))})};var DoubleClick={install:function(){$("form.no-doubleclick").submit(DoubleClick.form_submitted)},form_submitted:function(evt){var $this=$(this);if($this.data("submitted")){evt.preventDefault();return}$this.data("submitted",true);setTimeout(function(){$this.removeData("submitted")},1e3)}};$(DoubleClick.install);(function(){function csrfSafeMethod(method){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(method)}if($.cookie("csrftoken")){$.ajaxSetup({crossDomain:false,beforeSend:function(xhr,settings){if(!csrfSafeMethod(settings.type)){xhr.setRequestHeader("X-CSRFToken",$.cookie("csrftoken"))}}})}})();$(document).ready(function(){$("input, textarea").placeholder();$("form a.submit").click(function(){$(this).closest("form").submit();return false});$(".login_button").click(function(e){e.preventDefault();$(this).closest("form").submit()});$("form input[name='password']").keydown(function(e){if(e.which==13){e.preventDefault();$(this).closest("form").submit()}});$("#top #login-link .main-link").click(function(e){e.preventDefault();$(this).closest("#login-link").toggleClass("opened")});$("#top #login-link").bind("clickoutside",function(){$(this).removeClass("opened")})});if(!Date.prototype.toISOString){(function(){function pad(number){if(number<10){return"0"+number}return number}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+pad(this.getUTCMonth()+1)+"-"+pad(this.getUTCDate())+"T"+pad(this.getUTCHours())+":"+pad(this.getUTCMinutes())+":"+pad(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}})()}function getURLName(){return Codility.cleanForURL($("#url_name").val())}function updateURL(){var URL=PublicLinkData.url_start;var name=getURLName();$("#preview_url_name").val(URL+encodeURIComponent(name))}function create_public_link_modal(html_url){makemodal(html_url,function(){$("#modal-public-link .date-picker").datetimepicker({timeFormat:"HH:mm",dateFormat:"D d M yy",dayNamesMin:$.datepicker._defaults.dayNamesShort,showTime:true,stepMinute:1});$("#url_name_save").click(function(){var data={campaign:PublicLinkData.campaign,url_name:getURLName()};if($(".public-link-start .date-select").is(":checked")){var start_date_el=$(".public-link-start .date-picker");if(!start_date_el.val()){start_date_el.css({border:"1px solid red"});start_date_el.focus();return}data.start_date=start_date_el.val()}if($(".public-link-end .date-select").is(":checked")){var end_date_el=$(".public-link-end .date-picker");if(!end_date_el.val()){end_date_el.css({border:"1px solid red"});end_date_el.focus();return}data.end_date=end_date_el.val()}Dajaxice.codility.campaigns.set_link(function(data){if(data.status=="OK"){window.location="."}else{$("#modal-public-link .error").text(data.error_msg)}},data)});$("input.date-select").click(function(e){var el=$(this).closest("div").find(".date-picker");el.datetimepicker("show")
});$("input.date-picker").click(function(e){var el=$(this).closest("div").find("input.date-select");el.prop("checked",true);e.preventDefault()});$("input.clear-date-select").click(function(e){var el=$(this).closest("div").find(".date-picker");el.val("")});updateURL();Codility.add_change_observer($("#url_name"),updateURL);$("#url_name").keypress(function(){$("#modal_publiclink_warning").show()})})}function create_public_link_deactivate_confirm(campaign,header,info){make_confirmation_modal(header,info,function(){Dajaxice.codility.campaigns.deactivate_link(function(data){if(data.status=="OK"){window.location="."}else{$("#modal-confirmation .error").text("Error happened")}},{campaign:campaign})},"Deactivate")}var InviteCandidates={candidates:null,method:null,initialize:function(candidates,method){InviteCandidates.form_history=FormHistory({form_path:"#messageForm",pane_path:".invite-side-pane"},FORM_HISTORY_DATA);InviteCandidates.form_history.signal_pre_read=$.proxy(TinyMCEUtils.update_textarea_from_editor,InviteCandidates);InviteCandidates.form_history.signal_post_write=$.proxy(TinyMCEUtils.update_editor_from_textarea,InviteCandidates);InviteCandidates.setup_form();InviteCandidates.setup_callbacks();InviteCandidates.candidates=candidates;modal_protect_exit();$(".delete-row").first().hide()},update_state:function(){InviteCandidates.setup_form();InviteCandidates.setup_message_form()},setup_message_form:function(){var use_codility_email=$("input[name=email-invites]:checked").val()=="1";if(use_codility_email){$("#invite-candidates-next").val("Preview");$("#th-email").addClass("required");$("#messageForm").show()}else{$("#invite-candidates-next").val("Create");$("#th-email").removeClass("required");$("#messageForm").hide()}},setup_callbacks:function(){var $modal_parent=$("#modal-invite").parent();$modal_parent.on("click","#invite-candidates-next",function(){if($("input[name=email-invites]:checked").val()=="1"){InviteCandidates.see_preview()}else{InviteCandidates.create_tests()}});$modal_parent.on("change","input[name=email-invites]",function(){InviteCandidates.setup_message_form()});$modal_parent.on("focus","input",function(){$(this).parent().removeClass("has-error")})},close:function(){hidemodal();window.location="."},setup_form:function(){InviteCandidates.form_history.init();InviteCandidates.form_history.install_handlers("a.toggle-side-pane");$("#candidateForm tbody tr").formset({deleteText:"",addText:"add candidate",added:function(row){$(".delete-row").first().show()},removed:function(row){if($(".delete-row").length==1){$(".delete-row").first().hide()}}});InviteCandidates.email_editor=TinyMCEUtils.create_email_editor("id_content");InviteCandidates.disable_form($(".preview-form"),true)},disable_form:function(form,disable){form.find("input").prop("readonly",disable);form.find("textarea").prop("readonly",disable)},send_command:function(command){Dajaxice.codility.campaigns.invite_candidates(InviteCandidates.handle_response,{campaign:InviteCandidates.candidates,command:command,candidates_form:$("#candidateForm").serialize(true),preview_form:$("#messageForm").serialize(true),rpt_email_form:$("#rptEmailForm").serialize(true)})},create_tests:function(){modal_refresh_on_exit();$("#invite-candidates-next").val("Submitting...");$("#invite-candidates-next")[0].disabled=true;InviteCandidates.send_command("create")},see_preview:function(){tinymce.triggerSave();InviteCandidates.send_command("preview")},send_invites:function(){modal_refresh_on_exit();$("#invite-candidates-preview-next").val("Submitting...");$("#invite-candidates-preview-next")[0].disabled=true;InviteCandidates.send_command("send")},back_to_edit:function(){InviteCandidates.send_command("back_to_edit")},handle_response:function(data){TinyMCEUtils.remove_editor.call(this);var top=$("#modal-invite").css("top");$("#modal-invite").replaceWith(data);$(".modal-box, .modal-box-clean").css({top:top});InviteCandidates.update_state();var el=$("#created-tests");this.pass_link=setupCopyBalloon($(".invite-success-pass-link-balloon"));this.pass_link.open_on_click(el.find(".pass-link"),function(elem,b){var nick=elem.closest("tr").find(".nick").text()||"Anonymous";b.root.find(".candidate-name").text(nick)})},export_created:function(){var tickets=[];$("#created-tests tbody tr").each(function(){tickets.push($(this).closest("tr").data("ticket-id"))});$("#export-links-form input[name=tickets]").val(JSON.stringify(tickets));$("#export-links-form").submit()}};var BatchInviteCandidates={initialize:function(method){this.method=method;BatchInviteCandidates.setup_callbacks();modal_protect_exit();modal_refresh_on_exit()},setup_callbacks:function(){$("#batch-invite-next").click(function(e){$("#batch-invite-form").submit();return false});$("#batch-invite-form").submit(function(e){var $form=$(this);if($form.data("submitted")===true){e.preventDefault()}else{$form.data("submitted",true);$("#batch-invite-next").val("Submitting").attr("disabled","disabled")}})}};function create_modal_invite_candidates(html_url,data,method){makemodal(html_url,function(){InviteCandidates.initialize(InviteData.campaign,method||"GET")},data||{},method||"GET",$.proxy(TinyMCEUtils.remove_editor,InviteCandidates))}var TinyMCEUtils={create_email_editor:function(element_id){var selector="#"+element_id;if(!$(selector).is(":visible"))return null;tinymce.init({selector:selector,content_css:STATIC_URL+"css/tinymce_content.css",menubar:false,statusbar:false,image_advtab:true,plugins:"image code textcolor",toolbar_items_size:"small",toolbar:"undo redo | fontselect fontsizeselect bold italic underline forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | image code"})},update_editor_from_textarea:function(){var editor=tinymce.get("id_content"),$textarea=$(editor.getElement()),$editor_body=$(editor.getDoc()).find("body");editor.load();if($textarea.prop("disabled")){$editor_body.css("background","#eee")}else{$editor_body.removeAttr("style")}},update_textarea_from_editor:function(){tinymce.triggerSave()},remove_editor:function(){if(tinymce.get("id_content")){tinymce.get("id_content").remove()}}};var TaskDetail={$modal:null,initialize:function(modal){this.$modal=$(modal);this.setup_tabs();this.setup_languages();if(window.location.hash.substring(1))TaskDetail.go_to(window.location.hash.substring(1))},setup_tabs:function(){this.$modal.find(".tabs .descriptions").click(function(){TaskDetail.go_to("descriptions");return false});this.$modal.find(".tabs .starts").click(function(){TaskDetail.go_to("starts");return false});this.$modal.find(".tabs .solutions").click(function(){TaskDetail.go_to("solutions");return false});this.$modal.find(".tabs .stats").click(function(){TaskDetail.go_to("stats");return false})},setup_languages:function(){this.$modal.find("select[name=pl]").change(function(){TaskDetail.update_languages()});this.$modal.find("select[name=hl]").change(function(){TaskDetail.update_languages()})},update_languages:function(){var pl=this.$modal.find("select[name=pl] > option:selected").val();var hl=this.$modal.find("select[name=hl] > option:selected").val();this.$modal.find(".descriptions .desc").hide();this.$modal.find(".descriptions .desc-"+pl+"-"+hl).show();this.$modal.find(".starts .start").hide();this.$modal.find(".starts .start-"+pl).show()},go_to:function(tab){this.$modal.find(".tabs a").removeClass("active").blur();this.$modal.find(".tabs a."+tab).addClass("active");this.$modal.find(".content > div").hide();this.$modal.find(".content > div."+tab).show();if(tab=="descriptions"||tab=="starts")this.$modal.find(".content > .header").show();else this.$modal.find(".content > .header").hide();window.location.hash="#"+tab}};function create_modal_task_detail(html_url){makemodal(html_url,function(){TaskDetail.initialize($("#modal-task-detail"))},{},"GET")}function create_ticket_share_modal(html_url,ticket){makemodal(html_url,function(){new ZeroClipboard($("#modal-ticket-share .copy-link"),{moviePath:STATIC_URL+"/vendor/zeroclipboard/ZeroClipboard.swf"}).on("load",function(client){client.on("complete",function(client,args){var e=$(this);e.text("Copied!").removeClass("orange-flash");setTimeout(function(){e.addClass("orange-flash")},0)})});$("#modal-ticket-share .send-button").click(function(){Dajaxice.codility.tickets.send_share_link(function(data){if(data.status=="OK"){window.location="."}else{$("#modal-ticket-share .error").text(data.error)}},{ticket_id:ticket,email:$("#modal-ticket-share .share-email").val()})})})}function create_task_idea_modal(html_url){makemodal(html_url,function(){$("#modal-submit-idea .task-idea-submit").click(function(){Dajaxice.codility.taskideas.task_idea_submit(function(data){if(data.status=="OK"){window.location="."}else{$("#modal-submit-idea .error").text(data.error)}},{description:$("#modal-submit-idea .description").val()})})})}var NotificationsLoader={current_page_number:null,load_url:null,pagination_element:null,last_load_url:null,container:null,page_changed_callback:null,initialize:function(load_url,container,pagination_element,page_changed_callback){this.load_url=load_url;this.container=container;this.pagination_element=pagination_element;this.current_page_number=1;this.page_changed_callback=page_changed_callback;var that=this;function step(){if(!$(this).attr("href"))return;var page=$(this).attr("data-page");if(!page)return;that.current_page_number=page;that.load_notifications(page,false);return false}pagination_element.find(".pages .previous").click(step);pagination_element.find(".pages .next").click(step)},prepare_pagination:function(pagination){var el=this.pagination_element;function enable_if(elem,val){if(val){elem.attr("href","#");elem.attr("data-page",val)}else{elem.removeAttr("href");elem.removeAttr("data-page")}return elem}enable_if(el.find(".pages .previous"),pagination.previous);el.find(".pages .current").text(pagination.current);el.find(".pages .count").text(pagination.count);enable_if(el.find(".pages .next"),pagination.next)},load_notifications:function(page_number,force){page_number=page_number||1;this.current_page_number=page_number;var url=this.load_url+"?page="+page_number;if(!force&&this.last_load_url==url){return}var that=this;$.getJSON(url,function(data){that.container.html(data.list_part);that.prepare_pagination(data.pagination);that.last_load_url=url;that.page_changed_callback()})}};var NotificationsUrls={unread_notifications_url:null,mark_as_read_url:null,get_most_recent_dashboard_notifications_url:null,delete_notification_url:null,hide_dashboard_notification_url:null};var DashboardNotifications={target_element:null,unread_notifications:null,initialize:function(target_element,unread_notifications){this.target_element=target_element;this.unread_notifications=unread_notifications;this.refresh()},refresh:function(){this.load_notifications();this.update_unread_notifications()},hide:function(id){var that=this;$.ajax({type:"POST",url:NotificationsUrls.hide_dashboard_notification_url,data:{ns_id:id}}).done(function(data){if(data.status=="OK"){that.load_notifications();that.update_unread_notifications()}})},mark_as_read:function(element){var that=this;var id=Number(element.attr("data-id"));var data=JSON.stringify([id]);$.ajax({type:"POST",url:NotificationsUrls.mark_as_read_url,data:{notification_state_ids:data}}).done(function(data){if(data.status=="OK"){element.removeClass("is-new");that.update_unread_notifications()}})},load_notifications:function(){var that=this;$.getJSON(NotificationsUrls.get_most_recent_dashboard_notifications_url,function(data){if(data.status=="OK"){var notifications=data.notifications;var $elem=$(that.target_element);$elem.empty();for(var i=0;i<notifications.length;i+=1){var notification=notifications[i];var is_new=notification.is_new?"is-new":"";var $notification_element=$('<div class="notification '+is_new+'" data-id="'+notification.id+'"></div>');var $title_wrapper=$('<div class="title-wrapper"></div>');$title_wrapper.append('<div class="toggle-icon"></div>');$title_wrapper.append('<div class="timestamp">'+notification.post_date+"</div>");$title_wrapper.append('<div class="title">'+notification.subject+"</div>");$notification_element.append('<div class="message-icon"></div>');$notification_element.append('<a href="#" class="close-link"></a>');$notification_element.append($title_wrapper);$notification_element.append('<div class="content">'+notification.content+"</div>");$elem.append($notification_element)}$(".notification").each(function(i,u){var $u=$(u);$u.find("a.close-link").click(function(e){e.preventDefault();$(this).closest(".notification").fadeOut(500,function(){that.hide(Number($u.attr("data-id")))})});var $content=$u.find(".content");var $toggle_icon=$u.find(".toggle-icon");$u.find(".title-wrapper").click(function(){$content.slideToggle(300);if($toggle_icon.hasClass("toggle-icon-rotate")){$toggle_icon.removeClass("toggle-icon-rotate")}else{$toggle_icon.addClass("toggle-icon-rotate")}if($u.hasClass("is-new")){that.mark_as_read($u)}})});if(data.count>3){$elem.append('<div class="more-notifications">You have more unread urgent notifications.<a> See all notifications.</a></div>')}}})},update_unread_notifications:function(){var $elem=$(this.unread_notifications);$.getJSON(NotificationsUrls.unread_notifications_url,function(data){if(data.status=="OK"){var count=data.unread_notifications;var previous=parseInt($elem.html(),10);if(isNaN(previous)||previous!=count){if(count>0){$elem.css("display","inline");$elem.html(count);$elem.effect("pulsate",{times:1},2e3)}else{$elem.css("display","none");$elem.html("0")}}}})}};var NotificationsDialog={modal:null,initialize:function(method){this.modal=$("#modal-notifications");var that=this;function toggle_row(){var $notification=$(this).closest(".notification"),$tr=$notification.closest("tr"),$content=$tr.find("+ tr"),$col=$content.find(".collapsible");if($notification.hasClass("is-new")){var notifications=[];notifications.push($notification);that.mark_as_read(notifications)}$tr.toggleClass("is-collapsed");$content.toggleClass("is-collapsed-too");$col.animate({height:"toggle"},100)}this.modal.on("click",".toggle-row",toggle_row);this.modal.on("click",".subject a",toggle_row);$("th #manage_selectall").change(this.select_all);$("#notifications-mark-as-read").click(function(){var selected_notifications=that.fetch_selected_notfications(true);that.mark_as_read(selected_notifications)});$("#notifications-delete").click(function(){var selected_notifications=that.fetch_selected_notfications(false);that.delete_notifications(selected_notifications)});modal_on_exit_callback(function(){DashboardNotifications.refresh()})},fetch_selected_notfications:function(only_new){var checkboxes=$("input[name=notification_select]",this.modal);var selected=[];for(var i=0;i<checkboxes.length;i+=1){if(checkboxes[i].checked){var $notification=$(checkboxes[i]).closest(".notification");if(!only_new||$notification.hasClass("is-new")){selected.push($notification)}}}return selected},select_all:function(){var checkboxes=$("input[name=notification_select]",this.modal);for(var i=0;i<checkboxes.length;i+=1){checkboxes[i].checked=this.checked}},delete_notifications:function(notification_elements){if(notification_elements.length===0){return}var data=JSON.stringify(this.fetch_ids_from_notifications(notification_elements));var that=this;$.ajax({type:"POST",url:NotificationsUrls.delete_notification_url,data:{notification_state_ids:data}}).done(function(data){if(data.status=="OK"){NotificationsLoader.load_notifications(1,true)}})},fetch_ids_from_notifications:function(notifications){var ids=[];for(var i=0;i<notifications.length;i+=1){ids.push(Number(notifications[i].attr("data-id")))}return ids},mark_as_read:function(notification_elements){if(notification_elements.length===0){return}var data=JSON.stringify(this.fetch_ids_from_notifications(notification_elements));var that=this;$.ajax({type:"POST",url:NotificationsUrls.mark_as_read_url,data:{notification_state_ids:data}}).done(function(data){if(data.status=="OK"){for(var i=0;i<notification_elements.length;i+=1){notification_elements[i].removeClass("is-new")}}})}};function create_modal_notifications(html_url,data,method){makemodal(html_url,function(){NotificationsDialog.initialize(method||"GET")},data||{},method||"GET",null)}var DashboardHelp={steps:{navigation:function(){return[{element:"#top .tests",intro:"The tests tab contains the list of your tests which you can invite your candidates to."},{element:"#top .sessions",intro:"The session tab contains a list of all the test sessions your candidates have attended so far. It allows you to see, sort, search and export them."},{element:"#top .tasks",intro:"The task tab presents the ever-growing pool of tasks ("+TASK_TYPES_STRING+") you can use to test your candidates."},{element:"#top .dashboard-help",intro:"Click this button to see this help again anytime."}]},"test list":function(){return[{element:".test-box",intro:"This is a test! A test is a combination of the same tasks."},{element:".test-box h2",intro:"Click on the test name to view the list of your candidates that took or were invited to take this test."},{element:".invite-candidates-link",intro:"Click here to create individual, private test links which you can hand over to your candidates. New: You can also have Codility automatically send the private test links to your candidates via customizable e-mail."},{element:".test-link-box",intro:"<p>Alternatively, you can invite candidates via a public test link. In this case you do not even need to know your candidates beforehand. Any candidate using this link will be required to specify his or her contact details to take the test. A public test link can thus be useful to insert in job ads, to spread during campus recruitment events, etc. </p>"+"<p>You can disable or change this link whenever you wish.</p>"},{element:".archive",intro:"If your test list grows too long, you can archive the tests you are no longer using."},{element:"#filter_status",intro:"Use this switch to browse or unarchive your archived tests."}].concat(this.navigation())},"empty test list":function(){return[{element:".create-new-test",intro:"Click this button to easily create a new test."}].concat(this.navigation())},"test form":function(){return[{element:".name",intro:"Name your test. The name is for internal use only and won't be shown to your candidates."},{element:".company-name",intro:"This will be the company name associated with this specific test. It will be used to identify you as the test sponsor in the candidate user interface."},{element:".accept-solutions-in",intro:"<p>If you wish, restrict the programming languages your candidates can use to solve the test. </p><p>Some tasks, especially bug fixing tasks, may be unavailable in some programming languages.</p>"},{element:".task-selector",intro:"Browse the task list using the filtering and sorting options provided. Click on a task name to see full details. To select tasks, simply click on the respective tasks' plus button."},{element:".additional-information",intro:"If you'd like to gather additional data from your candidates before they start their test, we can help you do so. It's completely up to you if and what data to collect. Unselect all options to skip this step and not ask your candidates for any additional data."},{element:".intro-info",intro:"Whatever you write in this field will be shown to your candidates before they start their test. It will complement, not replace, the default information given to the candidates, which includes the number of tasks in your test, the programming languages allowed and the test time limit."},{element:".test-form .submit",intro:"Click here to create the test. You can then proceed to inviting candidates or creating a public test link to place in your job ad, etc."}]},"invite candidates":function(){var ret=[{element:"#modal-invite",intro:"This dialog allows you to create individual, private test links for all the candidates you'd like to invite to your test. One such test link gives exactly one attempt to solve the test."},{element:".candidate-form",intro:"Add as many candidates as you like."},{element:".email-invites-column",intro:"You have two options: (a) send the generated individual test links to your candidates by yourself (own email system) or (b) have Codility automatically send them to your candidates via an email that you can customize."}];if($('[name=email-invites][value="1"]').is(":checked")){ret=ret.concat([{element:".invite-message-form",intro:"If you decide to invite your candidates automatically, you can customize the email and preview how your e-mail will look like."}])}return ret}},steps_for:function(helpname){return this.steps[helpname]()||window.alert("Help not available")},init:function(elem,parent){var helpname=$(elem).data("helpname");$(parent).on("click",".dashboard-help",function(){var intro=introJs();intro.setOption("steps",DashboardHelp.steps_for(helpname));intro.setOption("disableInteraction",true);intro.start()})}};$(function(){$(".dashboard-help").each(function(){DashboardHelp.init(this,$(this).parent())})});
//# sourceMappingURL=/static/js/dab3b37911a9.js.map